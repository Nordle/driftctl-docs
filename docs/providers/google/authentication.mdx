---
id: authentication
title: Authentication
---

To use driftctl, we need credentials to make authenticated requests to your GCP project.
Just like the Terraform provider, we retrieve configuration from [environment variables](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#full-reference).

```shell
$ GOOGLE_APPLICATION_CREDENTIALS=your-creds.json\
  CLOUDSDK_CORE_PROJECT=my-project\
  driftctl scan --to gcp+tf
```

## Least privileged policy

driftctl uses **Google Asset API** to enumerate efficiency resources on your account, and thus you need at least the role [Cloud Asset Viewer](https://cloud.google.com/iam/docs/understanding-roles#cloud-asset-roles) to be enabled.

:::info deep mode
If you want to use driftctl with deep mode, driftctl will also need to retrieve resource's details and the **Cloud Asset Viewer** will not be enough.
If you want to be able to get the details you should set up the basic role [Viewer](https://cloud.google.com/iam/docs/understanding-roles#basic-definitions) on your project.
:::

### Required roles

```
# Mandatory role to allow driftctl to enumerate resources
roles/cloudasset.viewer

# Required for deep mode only
roles/viewer
```